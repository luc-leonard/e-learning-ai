<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jour 4 ‚Äî Le module, son interface, et le pipe</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèóÔ∏è</text></svg>">
</head>
<body>
  <div class="app">
    <div id="sidebar-root"></div>
    <main class="main-content">
      <div class="module-content">

<h1>Jour 4 : Le module, son interface, et le pipe</h1>
<p class="module-subtitle"><em>Module 8 ‚Äî Les mains dans le moteur</em></p>
<hr>
<h3>Avant de commencer : une analogie</h3>
<p>Au Module 1, vous aviez d√©coup√© votre club de lecture en <strong>parties</strong> : Livres, Membres, R√©unions... Chaque partie avait une liste d'actions qu'elle savait faire ‚Äî c'√©tait son <strong>interface</strong>.</p>
<p>Au Module 3, vous avez appris que chaque partie a une <strong>porte d'entr√©e</strong> : les fonctions qu'on peut appeler depuis l'ext√©rieur. Et derri√®re cette porte, il y a l'<strong>impl√©mentation</strong> ‚Äî le d√©tail de comment √ßa fonctionne.</p>
<p>En Elixir, une "partie" s'appelle un <strong>module</strong> et s'√©crit avec <code>defmodule</code>. Ses fonctions publiques sont sa porte d'entr√©e.</p>
<div class="module-meta">
<div class="module-meta-item"><strong>Dur√©e :</strong> 1h-1h30</div>
<div class="module-meta-item"><strong>Ce qu'il vous faut :</strong> Votre dossier `mon_club` ouvert dans VSCode, Claude Code, votre carnet</div>
</div>
<hr>
<h3>Le module : votre plan en Elixir</h3>
<p>Lancez Claude Code dans <code>mon_club</code> et envoyez :</p>
<blockquote>
<p>Montre-moi un module Elixir pour les R√©unions d'un club de lecture. Utilise <code>defmodule</code> avec 3 fonctions simples : cr√©er une r√©union, lister les r√©unions, et inscrire un membre. Juste la structure ‚Äî pas besoin d'impl√©mentation d√©taill√©e.</p>
</blockquote>
<h3>Ce que vous allez voir</h3>
<p>Quelque chose comme :</p>
<pre data-lang="elixir"><code>defmodule MonClub.Reunions do
  def creer(titre, date, lieu) do
    # ...
  end

  def lister() do
    # ...
  end

  def inscrire(membre_id, reunion_id) do
    # ...
  end
end</code></pre>
<p><code>defmodule MonClub.Reunions do ... end</code> ‚Äî c'est une <strong>partie</strong> de votre plan. Le point dans <code>MonClub.Reunions</code> est juste une fa√ßon d'organiser : <code>MonClub</code> c'est le projet, <code>Reunions</code> c'est la partie. √Ä l'int√©rieur, les fonctions <code>def</code> sont les <strong>actions</strong> que cette partie sait faire.</p>
<p><strong>C'est votre plan du Module 1, √©crit en Elixir.</strong></p>
<h3>L'exercice ‚Äî pr√©dire le contenu d'un module</h3>
<p>Prenez votre carnet. Choisissez une partie de votre plan du Module 1 ‚Äî par exemple "Livres". √âcrivez la liste des fonctions que ce module devrait contenir. Par exemple : ajouter un livre, lister tous les livres, trouver un livre par son titre, supprimer un livre.</p>
<p>Puis demandez √† Claude Code :</p>
<blockquote>
<p>Montre-moi un <code>defmodule MonClub.Livres</code> qui correspond √† cette liste de fonctions : [votre liste]. Juste les signatures <code>def</code> avec les param√®tres ‚Äî pas besoin du code √† l'int√©rieur.</p>
</blockquote>
<p>Comparez ce que Claude produit avec ce que vous aviez √©crit. Les noms sont-ils les m√™mes ? Les param√®tres sont-ils ceux que vous imaginiez ?</p>
<hr>
<h3>Le pipe ‚Äî lire une cha√Æne de montage</h3>
<p>Il y a un dernier symbole que vous verrez partout en Elixir : <code>|&gt;</code>, qu'on prononce "pipe" (comme un tuyau). C'est un des concepts les plus importants du langage, et la bonne nouvelle c'est qu'il est tr√®s intuitif.</p>
<p>Imaginez une cha√Æne de montage dans une usine. Une pi√®ce arrive, passe par un premier poste qui la d√©coupe, puis un deuxi√®me qui la ponce, puis un troisi√®me qui la peint. Chaque poste fait <strong>une seule chose</strong> et passe le r√©sultat au suivant. Personne ne fait tout en m√™me temps.</p>
<p>En Elixir, <code>|&gt;</code> c'est le tapis roulant entre les postes. Il se lit "<strong>puis</strong>" :</p>
<pre data-lang="elixir"><code>"  bonjour  "
|&gt; String.trim()
|&gt; String.capitalize()</code></pre>
<p>Prends le texte "  bonjour  ", <strong>puis</strong> enl√®ve les espaces, <strong>puis</strong> mets une majuscule. R√©sultat : "Bonjour".</p>
<p>Voici un deuxi√®me exemple, plus proche du club de lecture :</p>
<pre data-lang="elixir"><code>livres
|&gt; Enum.filter(fn livre -&gt; livre.votes &gt; 3 end)
|&gt; Enum.sort_by(fn livre -&gt; livre.votes end)
|&gt; Enum.take(5)</code></pre>
<p>M√™me sans conna√Ætre Elixir, essayez de lire : prends la liste de livres, <strong>puis</strong> garde seulement ceux qui ont plus de 3 votes, <strong>puis</strong> trie-les par nombre de votes, <strong>puis</strong> prends les 5 premiers. C'est le "top 5 des livres les plus vot√©s".</p>
<p>Vous allez voir des pipes partout dans le code Phoenix. √Ä chaque fois, le r√©flexe est le m√™me : lisez de haut en bas, remplacez chaque <code>|&gt;</code> par "puis".</p>
<h3>L'exercice ‚Äî lire un pipe</h3>
<p>Demandez √† Claude Code :</p>
<blockquote>
<p>Montre-moi un <code>|&gt;</code> (pipe) de 3-4 √©tapes, en rapport avec un club de lecture. Ne me dis PAS ce que le r√©sultat final est ‚Äî je vais essayer de le deviner en lisant √©tape par √©tape.</p>
</blockquote>
<p>Lisez la cha√Æne de haut en bas. Remplacez chaque <code>|&gt;</code> par "puis". √âcrivez en fran√ßais dans votre carnet ce que chaque √©tape fait et quel est le r√©sultat final. Puis demandez √† Claude si vous aviez raison.</p>
<h3>L'exercice ‚Äî √©crire un pipe en fran√ßais</h3>
<p>Cette fois, c'est vous qui √©crivez. Dans votre carnet, d√©crivez une cha√Æne d'op√©rations pour le club de lecture, en utilisant "puis". Par exemple :</p>
<blockquote>
<p>Prends tous les membres, <strong>puis</strong> garde ceux qui sont inscrits √† au moins une r√©union, <strong>puis</strong> trie-les par nombre de r√©unions, <strong>puis</strong> prends les 3 premiers.</p>
</blockquote>
<p>Demandez √† Claude Code :</p>
<blockquote>
<p>Traduis cette cha√Æne d'op√©rations en un pipe Elixir : [votre description en fran√ßais]</p>
</blockquote>
<p>Comparez. Vous venez d'√©crire du code ‚Äî en fran√ßais ‚Äî et Claude l'a traduit. C'est exactement ce que vous ferez quand vous guiderez Claude pour construire votre projet.</p>
<h3>Ce que vous devez noter dans votre carnet</h3>
<blockquote class="notebook-prompt">
<p>‚úçÔ∏è Votre liste de fonctions pour le module Livres correspondait-elle √† ce que Claude a produit ?</p>
</blockquote>
<blockquote class="notebook-prompt">
<p>‚úçÔ∏è Voyez-vous le lien entre <code>defmodule</code> et les "parties" de votre plan du Module 1 ?</p>
</blockquote>
<blockquote class="notebook-prompt">
<p>‚úçÔ∏è Avez-vous r√©ussi √† deviner le r√©sultat du pipe ? L'avez-vous lu de haut en bas avec "puis" ?</p>
</blockquote>

      </div>
    </main>
    <button class="back-to-top" aria-label="Retour en haut">‚Üë</button>
  </div>
  <script src="nav.js"></script>
  <script src="app.js"></script>
</body>
</html>
