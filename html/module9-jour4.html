<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jour 4 ‚Äî Annoncer au lieu d'ordonner</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèóÔ∏è</text></svg>">
</head>
<body>
  <div class="app">
    <div id="sidebar-root"></div>
    <main class="main-content">
      <div class="module-content">

<h1>Jour 4 : Annoncer au lieu d'ordonner</h1>
<p class="module-subtitle"><em>Module 9 ‚Äî Le monolithe qui enfle</em></p>
<hr>
<h3>Avant de commencer : une analogie</h3>
<p>Votre application, c'est un immeuble de bureaux. Chaque √©tage est un d√©partement (un contexte). Comptes au 1er, Livres au 2√®me, R√©unions au 3√®me.</p>
<p>Bien s√©par√©. Propre. Chaque √©tage a sa porte.</p>
<p>Sauf que dans la pratique, les employ√©s passent leur temps dans l'ascenseur. Quelqu'un des R√©unions descend aux Comptes pour demander "ce membre existe-t-il ?". Le d√©partement Livres descend aussi aux Comptes pour v√©rifier un votant. Aller-retour, aller-retour. Les √©tages sont s√©par√©s, mais les gens sont emm√™l√©s.</p>
<p>Un jour, les Comptes d√©m√©nagent et changent leur porte d'entr√©e. Panique dans tout l'immeuble ‚Äî c'est exactement ce qui s'est pass√© au Jour 3.</p>
<p>Maintenant, imaginez un autre syst√®me : chaque d√©partement a un <strong>tableau d'affichage</strong> dans le hall. Quand les R√©unions inscrivent quelqu'un, ils n'appellent personne ‚Äî ils affichent une note : <em>"Marie s'est inscrite √† la Soir√©e Polar"</em>. Si un autre d√©partement est int√©ress√©, il regarde le tableau et fait son travail. Personne n'appelle personne directement.</p>
<p>Si les Comptes d√©m√©nagent ? Aucun impact sur les annonces. Le tableau d'affichage est toujours au m√™me endroit.</p>
<div class="module-meta">
<div class="module-meta-item"><strong>Dur√©e :</strong> 1h-1h30</div>
<div class="module-meta-item"><strong>Ce qu'il vous faut :</strong> Votre carnet (pas besoin d'ordinateur pour la premi√®re partie)</div>
</div>
<hr>
<h3>La r√®gle</h3>
<p>Il y a deux types de communication entre contextes :</p>
<p><strong>La question</strong> ‚Äî "J'ai besoin d'une r√©ponse pour continuer."</p>
<ul>
<li>"Ce membre existe-t-il ?" ‚Üí Oui, il faut une r√©ponse imm√©diate. Pas d'inscription possible sans cette v√©rification.</li>
<li>√áa reste un appel direct. Normal.</li>
</ul>
<p><strong>L'annonce</strong> ‚Äî "Quelque chose s'est pass√©, r√©agissez si √ßa vous concerne."</p>
<ul>
<li>"Marie s'est inscrite √† la Soir√©e Polar" ‚Üí R√©unions n'a pas besoin de r√©ponse. L'inscription est faite. Si quelqu'un veut envoyer un email de confirmation ou mettre √† jour des statistiques, c'est son affaire.</li>
<li>√áa devrait √™tre un <strong>√©v√©nement</strong>, pas un appel direct.</li>
</ul>
<p>La diff√©rence : une question <strong>attend</strong> une r√©ponse. Une annonce <strong>n'attend rien</strong>.</p>
<hr>
<h3>L'exercice : classer vos fl√®ches</h3>
<p>Reprenez le sch√©ma de fl√®ches du Jour 2 (celui que Claude vous a montr√©). Pour chaque fl√®che, d√©cidez : est-ce une <strong>question</strong> ou une <strong>annonce</strong> ?</p>
<p>Par exemple :</p>
<table>
<thead>
<tr>
<th>Fl√®che</th>
<th>Question ou annonce ?</th>
<th>Pourquoi</th>
</tr>
</thead>
<tbody>
<tr>
<td>Livres ‚Üí Comptes (v√©rifier le membre avant un vote)</td>
<td><strong>Question</strong></td>
<td>Livres a besoin de la r√©ponse pour continuer</td>
</tr>
<tr>
<td>R√©unions ‚Üí Comptes (v√©rifier le membre avant inscription)</td>
<td><strong>Question</strong></td>
<td>R√©unions a besoin de la r√©ponse pour continuer</td>
</tr>
</tbody>
</table>
<blockquote class="notebook-prompt">
<p>‚úçÔ∏è Classez chaque fl√®che de votre sch√©ma en "question" ou "annonce" dans votre carnet.</p>
</blockquote>
<p>Vous remarquerez peut-√™tre que toutes vos fl√®ches actuelles sont des questions. C'est normal ‚Äî vous n'avez pas encore ajout√© de fonctionnalit√©s qui <em>annoncent</em> des choses. Mais pensez √† ce qui se passerait si vous ajoutiez :</p>
<ul>
<li>Un email de confirmation apr√®s une inscription √† une r√©union ‚Üí <strong>annonce</strong> ("quelqu'un s'est inscrit")</li>
<li>Une mise √† jour de statistiques quand un vote est enregistr√© ‚Üí <strong>annonce</strong> ("un vote a eu lieu")</li>
<li>Une notification quand un nouveau livre est propos√© ‚Üí <strong>annonce</strong> ("un livre a √©t√© propos√©")</li>
</ul>
<hr>
<h3>L'exercice : √©crire les √©v√©nements en fran√ßais</h3>
<p>Pour chaque annonce que vous avez identifi√©e (ou imagin√©e), √©crivez l'√©v√©nement <strong>en fran√ßais</strong>. Pas en code ‚Äî en fran√ßais, comme une note sur le tableau d'affichage de l'immeuble.</p>
<p>Exemples :</p>
<ul>
<li>"Marie s'est inscrite √† la Soir√©e Polar"</li>
<li>"Jean a vot√© pour Le Nom de la Rose"</li>
<li>"Un nouveau livre a √©t√© propos√© : Dune"</li>
</ul>
<blockquote class="notebook-prompt">
<p>‚úçÔ∏è √âcrivez vos √©v√©nements en fran√ßais dans votre carnet. Au moins 3.</p>
</blockquote>
<p>Ces phrases en fran√ßais vont devenir du code au Jour 5. Mais aujourd'hui, pas de code ‚Äî juste le concept.</p>
<h3>Ce que vous devez retenir</h3>
<p>La r√®gle est simple :</p>
<ul>
<li><strong>Question</strong> (j'ai besoin d'une r√©ponse) ‚Üí appel direct. √áa reste comme avant.</li>
<li><strong>Annonce</strong> (quelque chose s'est pass√©) ‚Üí √©v√©nement. Le tableau d'affichage.</li>
</ul>
<p>Demain, vous verrez √† quoi ressemble ce tableau d'affichage en Elixir.</p>

      </div>
    </main>
    <button class="back-to-top" aria-label="Retour en haut">‚Üë</button>
  </div>
  <script src="nav.js"></script>
  <script src="app.js"></script>
</body>
</html>
