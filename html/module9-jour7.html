<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jour 7 â€” Le bilan</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ—ï¸</text></svg>">
</head>
<body>
  <div class="app">
    <div id="sidebar-root"></div>
    <main class="main-content">
      <div class="module-content">

<h1>Jour 7 : Le bilan</h1>
<p class="module-subtitle"><em>Module 9 â€” Le monolithe qui enfle</em></p>
<hr>
<h3>Ce que vous avez fait cette semaine</h3>
<p>Vous avez rÃ©solu le <strong>deuxiÃ¨me niveau de couplage</strong>. Le premier (tout dans un fichier) a Ã©tÃ© rÃ©solu au Module 8 en dÃ©coupant. Le deuxiÃ¨me (les modules qui s'appellent trop) a Ã©tÃ© rÃ©solu cette semaine en passant des appels directs aux Ã©vÃ©nements.</p>
<div class="module-meta">
<div class="module-meta-item"><strong>DurÃ©e :</strong> 45min-1h</div>
<div class="module-meta-item"><strong>Ce qu'il vous faut :</strong> Votre carnet</div>
</div>
<hr>
<h3>Les compÃ©tences acquises</h3>
<table>
<thead>
<tr>
<th>CompÃ©tence</th>
<th>Ce que Ã§a signifie</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Voir le couplage inter-contextes</strong></td>
<td>Vous savez dessiner les flÃ¨ches entre contextes et compter les dÃ©pendances</td>
</tr>
<tr>
<td><strong>Provoquer la casse</strong></td>
<td>Vous savez tester si un dÃ©coupage tient en modifiant une interface</td>
</tr>
<tr>
<td><strong>Distinguer question et annonce</strong></td>
<td>Vous savez classer chaque appel entre contextes</td>
</tr>
<tr>
<td><strong>Lire un broadcast PubSub</strong></td>
<td>Vous reconnaissez <code>Phoenix.PubSub.broadcast(...)</code> comme "afficher sur le tableau"</td>
</tr>
<tr>
<td><strong>Lire un listener</strong></td>
<td>Vous reconnaissez un module qui Ã©coute des Ã©vÃ©nements, mÃªme sans comprendre GenServer</td>
</tr>
<tr>
<td><strong>Nommer un Ã©vÃ©nement</strong></td>
<td>Vous savez que <code>{:membre_inscrit}</code> est un bon nom et <code>{:row_inserted}</code> un mauvais nom</td>
</tr>
</tbody>
</table>
<h3>Ce que vous ne savez PAS encore faire (et c'est normal)</h3>
<ul>
<li>Ã‰crire un listener de zÃ©ro sans Claude Code</li>
<li>GÃ©rer les cas d'erreur dans les Ã©vÃ©nements asynchrones (que se passe-t-il si le listener plante ?)</li>
<li>Tester l'asynchrone en dÃ©tail (les tests de listeners sont un sujet avancÃ©)</li>
</ul>
<p>Rien de Ã§a n'est nÃ©cessaire pour la suite. Ce qui est nÃ©cessaire, c'est ce que vous savez faire : <strong>voir le couplage, le nommer, et guider Claude pour le rÃ©duire</strong>.</p>
<h3>Le vocabulaire de la semaine</h3>
<table>
<thead>
<tr>
<th>Ce que vous dites</th>
<th>Le vrai nom</th>
<th>Ce que Ã§a signifie</th>
</tr>
</thead>
<tbody>
<tr>
<td>"Annonce ce qui s'est passÃ©"</td>
<td><strong>Ã‰vÃ©nement de domaine</strong> (Domain Event)</td>
<td>Un fait qui s'est produit, exprimÃ© au passÃ©</td>
</tr>
<tr>
<td>"Le tableau d'affichage"</td>
<td><strong>PubSub</strong> (Publish/Subscribe)</td>
<td>Un mÃ©canisme oÃ¹ quelqu'un publie et d'autres s'abonnent</td>
</tr>
<tr>
<td>"Ã‰couter et rÃ©agir"</td>
<td><strong>Listener</strong> (ou Handler)</td>
<td>Un module qui attend un Ã©vÃ©nement et rÃ©agit</td>
</tr>
<tr>
<td>"Je pose une question"</td>
<td><strong>RequÃªte</strong> (Query)</td>
<td>Un appel qui demande une information sans rien modifier</td>
</tr>
<tr>
<td>"Je donne un ordre"</td>
<td><strong>Commande</strong> (Command)</td>
<td>Un appel qui demande de faire quelque chose</td>
</tr>
<tr>
<td>"Je n'ai pas besoin de savoir qui Ã©coute"</td>
<td><strong>DÃ©couplage par Ã©vÃ©nements</strong></td>
<td>Les modules communiquent sans se connaÃ®tre</td>
</tr>
</tbody>
</table>
<h3>Le point sur le nommage</h3>
<p>Vos Ã©vÃ©nements doivent parler du <strong>club de lecture</strong>, pas du code :</p>
<ul>
<li><code>{:membre_inscrit_reunion, ...}</code> â†’ le gÃ©rant du club comprend</li>
<li><code>{:row_inserted, ...}</code> â†’ seul un dÃ©veloppeur comprend</li>
</ul>
<p>Si un Ã©vÃ©nement ne peut pas se traduire en une phrase que le gÃ©rant du club comprendrait, il est probablement mal nommÃ©.</p>
<h3>La structure de votre projet</h3>
<pre><code>plan.md                              â† votre plan d'architecture
  INVARIANTS
  VUE D'ENSEMBLE (parties + interfaces)
  FICHES DÃ‰TAILLÃ‰ES
  FLUX
  Ã‰VÃ‰NEMENTS                         â† nouveau !
  TESTS

CODE
â”œâ”€â”€ lib/mon_club/
â”‚   â”œâ”€â”€ comptes/comptes.ex
â”‚   â”œâ”€â”€ livres/livres.ex            â† publie des Ã©vÃ©nements
â”‚   â”œâ”€â”€ reunions/reunions.ex        â† publie des Ã©vÃ©nements
â”‚   â””â”€â”€ notifications/              â† Ã©coute des Ã©vÃ©nements (si crÃ©Ã©)
â”‚       â””â”€â”€ listener.ex</code></pre>
<h3>Avant de partir â€” sauvegardez</h3>
<pre data-lang="bash"><code>git add .
git commit -m "Module 9 terminÃ© : couplage inter-contextes et Ã©vÃ©nements PubSub"</code></pre>
<hr>
<h2 id="m9j7-suite">La suite</h2>
<p>Vos modules sont dÃ©coupÃ©s et communiquent par Ã©vÃ©nements. L'extÃ©rieur est propre. Mais ouvrez le capot d'un contexte â€” disons RÃ©unions â€” et regardez Ã  l'intÃ©rieur. C'est un sac de fonctions, de tables de base de donnÃ©es, et de champs aux noms techniques. Le bazar a juste dÃ©mÃ©nagÃ©.</p>
<p>Le Module 10 va changer votre faÃ§on de penser l'intÃ©rieur d'un contexte, en s'appuyant sur <strong>les mots que vos utilisateurs emploient</strong> â€” pas les mots de la technique.</p>

      </div>
    </main>
    <button class="back-to-top" aria-label="Retour en haut">â†‘</button>
  </div>
  <script src="nav.js"></script>
  <script src="app.js"></script>
</body>
</html>
